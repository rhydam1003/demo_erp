(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{5581:function(e,t,r){Promise.resolve().then(r.bind(r,9154))},9154:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var s=r(7437),a=r(2265),n=r(6463),l=r(5137);let c=["The syllabus was covered completely and systematically","The course content was relevant and up-to-date","Assignments and practicals helped in better understanding","Study materials provided were helpful","The pace of the course was appropriate","Learning objectives were clearly defined","Course workload was manageable","Overall course quality was excellent"],i=["Teacher explains concepts clearly and effectively","Teacher is punctual and regular to classes","Teacher encourages student participation","Teacher is approachable for doubts and queries","Teacher uses effective teaching methods","Teacher shows enthusiasm for the subject","Teacher provides constructive feedback","Teacher's overall performance is excellent"],o=e=>{let{value:t,index:r,type:a,setAnswers:n,answers:l,colorClass:c}=e;return(0,s.jsxs)("label",{className:"flex flex-col items-center gap-2 cursor-pointer group",children:[(0,s.jsx)("input",{type:"radio",name:"".concat(a,"-").concat(r),value:t,checked:l[r]===t,onChange:()=>{let e=[...l];e[r]=t,n(e)},className:"w-5 h-5 ".concat(c," cursor-pointer"),required:!0}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 group-hover:".concat(c.replace("text-","text-")),children:t})]},t)};function d(e){let{courseId:t}=e,r=(0,n.useRouter)(),[d,u]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[m,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(Array(c.length).fill(0)),[p,y]=(0,a.useState)(Array(i.length).fill(0));(0,a.useEffect)(()=>{j()},[t]);let j=async()=>{x(!0);try{var e;let r=await fetch("/api/courses"),s=await r.json(),a=null===(e=s.courses)||void 0===e?void 0:e.find(e=>e.id===t);if(u(a),!a)return;let n=await fetch("/api/feedback?courseId=".concat(t)),l=await n.json();l.feedback&&(g(l.feedback.courseAnswers||Array(c.length).fill(0)),y(l.feedback.teacherAnswers||Array(i.length).fill(0)))}catch(e){console.error("Error fetching course:",e)}finally{x(!1)}},v=async e=>{if(e.preventDefault(),f.includes(0)||p.includes(0)){alert("Please answer all questions before submitting");return}b(!0);try{let e=await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:t,courseAnswers:f,teacherAnswers:p})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to submit feedback");alert("✓ Feedback submitted successfully!"),r.push("/feedback"),r.refresh()}catch(e){alert(e.message)}finally{b(!1)}};return h?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading feedback form..."})]})}):d?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,s.jsxs)("div",{className:"mb-8 pb-6 border-b-2",children:[(0,s.jsxs)("button",{onClick:()=>r.push("/feedback"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 transition-colors",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Back to Course List"})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Feedback Form"}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-blue-600",children:d.code}),(0,s.jsx)("span",{className:"text-lg text-gray-700",children:d.name})]}),(0,s.jsxs)("p",{className:"text-gray-600 mt-2",children:["Teacher: ",d.teacherName]})]}),(0,s.jsxs)("form",{onSubmit:v,children:[(0,s.jsxs)("div",{className:"mb-10",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-600",children:"Part A: Course Feedback"}),(0,s.jsx)("div",{className:"space-y-6",children:c.map((e,t)=>(0,s.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-5 bg-gray-50 hover:border-blue-300 transition-colors",children:[(0,s.jsxs)("p",{className:"font-medium text-gray-800 mb-4",children:[(0,s.jsxs)("span",{className:"text-blue-600 font-bold",children:["Q",t+1,"."]})," ",e]}),(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("div",{className:"flex gap-6",children:[1,2,3,4,5].map(e=>(0,s.jsx)(o,{value:e,index:t,type:"course",setAnswers:g,answers:f,colorClass:"text-blue-600"},e))})}),(0,s.jsxs)("div",{className:"flex justify-between mt-3 text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Strongly Disagree (1)"}),(0,s.jsx)("span",{children:"Strongly Agree (5)"})]})]},"course-".concat(t)))})]}),(0,s.jsxs)("div",{className:"mb-10",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 bg-green-50 p-4 rounded-lg border-l-4 border-green-600",children:"Part B: Teacher Feedback"}),(0,s.jsx)("div",{className:"space-y-6",children:i.map((e,t)=>(0,s.jsxs)("div",{className:"border-2 border-gray-200 rounded-lg p-5 bg-gray-50 hover:border-green-300 transition-colors",children:[(0,s.jsxs)("p",{className:"font-medium text-gray-800 mb-4",children:[(0,s.jsxs)("span",{className:"text-green-600 font-bold",children:["Q",t+1,"."]})," ",e]}),(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("div",{className:"flex gap-6",children:[1,2,3,4,5].map(e=>(0,s.jsx)(o,{value:e,index:t,type:"teacher",setAnswers:y,answers:p,colorClass:"text-green-600"},e))})}),(0,s.jsxs)("div",{className:"flex justify-between mt-3 text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Strongly Disagree (1)"}),(0,s.jsx)("span",{children:"Strongly Agree (5)"})]})]},"teacher-".concat(t)))})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl disabled:bg-blue-300",children:m?"Submitting...":"✓ Submit Feedback"})]})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-red-600 text-xl mb-4",children:"Course not found or unauthorized"}),(0,s.jsx)("button",{onClick:()=>r.push("/feedback"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Courses"})]})})}},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:i?24*Number(c)/Number(a):c,className:n("lucide",o),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:i,...o}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),i),...o})});return r.displayName="".concat(e),r}},5137:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5581)}),_N_E=e.O()}]);